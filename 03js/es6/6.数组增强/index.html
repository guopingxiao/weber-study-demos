<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>数组增强</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<script type="text/javascript">
	
	// 1.Array.from()
	// 方法用于将含有length属性的对象转换为数组，将类数组转化为数组
	let arrayLike = {
	    '0': 'a',
	    '1': 'b',
	    '2': 'c',
	    length: 3
	};

	// ES5的写法
	var arr1 = [].slice.call(arrayLike); // ['a', 'b', 'c']
	console.log(arr1);

	// ES6的写法
	let arr2 = Array.from(arrayLike); // ['a', 'b', 'c']
	console.log(arr2);

	// 常用场景：

	// NodeList对象
	let ps = document.querySelectorAll('p');
	Array.from(ps).forEach(function (p) { //转化为真的array后才能用数组的forEach方法；
	  console.log(p);
	});

	// arguments对象
	function foo() {
	  var args = Array.from(arguments);
	  // ...
	}


	//2.Array.of() 方法用于将一组值，转换为数组。一般用于参数的初始化

	Array.of(3, 11, 8) // [3,11,8]
	Array.of(3) // [3]
	Array.of(3).length // 1


	//3.数组内部复制copyWithin()，数组实例的fill()
	

	//4.find()和findIndex() 返回第一个满足回调函数条件的值和位置
	//==>弥补indexOf的不足
	[1, 4, -5, 10].find((n) => n < 0)
	// -5
	[1, 5, 10, 15].find(function(value, index, arr) {
	  return value > 9;
	}) // 10
	
	[1, 5, 10, 15].findIndex(function(value, index, arr) {
	  return value > 9;
	}) // 2


	// 5.for of 遍历数组
	for (let index of ['a', 'b'].keys()) {
	  console.log(index);
	}
	// 0
	// 1

	for (let elem of ['a', 'b'].values()) {
	  console.log(elem);
	}
	// 'a'
	// 'b'

	for (let [index, elem] of ['a', 'b'].entries()) {
	  console.log(index, elem);
	}
	// 0 "a"
	// 1 "b"
	
	// 5.数组实例的includes()数组是否包含某个值 以前都是indexOf
	[1, 2, 3].includes(2);     // true
	[1, 2, 3].includes(4);     // false
	[1, 2, NaN].includes(NaN); // true
	</script>
</body>
</html>